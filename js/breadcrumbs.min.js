!function(){var a,b,c,d;c=b=void 0,a={maxCollapsedCrumbs:3,minWidth:44,shaderWidth:44,shaderAntumbra:25,allowVariableWidths:!1,tabWidth:150,collapsedCrumb:0,expandedCrumb:0,totalCrumbs:0,crumbWidths:[],crumbObjs:[],shaderObjs:[]},d={build:function(d,e){return c=d,b=c.find(".crumbs"),a.totalCrumbs=0,"object"==typeof e&&$.extend(a,e),b.find(".crumb").each(function(b){var c;return c=$(this),a.crumbObjs[b+1]=c,c.removeAttr("data-collapsed"),c.removeAttr("style"),c.find(".shader").length||c.append('<div class="shader"></div>'),a.shaderObjs[b+1]=c.find(".shader"),a.crumbWidths[b+1]=a.allowVariableWidths?c.outerWidth():a.tabWidth,a.totalCrumbs++})},windowResize:function(){var b,e,f,g;for(g=[],b=e=1,f=a.totalCrumbs-1;f>=e;b=e+=1)g.push(d.updateCrumb(b,c.width()));return g},updateCrumb:function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(h=a.crumbWidths[c],n=a.crumbWidths[c+1],f=0,f=a.minWidth*(c-1),e=0,l=q=r=c+1,s=a.totalCrumbs;s>=q;l=q+=1)e+=a.crumbWidths[l];if(j=d-f-e,g=a.crumbObjs[c]){if(i=g.outerWidth(),m=c>a.totalCrumbs?a.crumbObjs[c+1]:null,o=a.shaderObjs[c],h>i?g.attr("data-expanded",!1):g.attr("data-expanded",!0),!(f+h+e>d))return g.outerWidth(h),o.css("right",-a.shaderWidth-a.shaderAntumbra);if(a.allowVariableWidths?g.outerWidth(j):g.outerWidth(a.minWidth),a.maxCollapsedCrumbs&&(j<a.minWidth?g.attr("data-collapsed",!0):g.attr("data-collapsed",!1),a.collapsedCrumb=b.find('.crumb[data-collapsed="false"]:first').index(),a.collapsedCrumb<0&&(a.collapsedCrumb=a.totalCrumbs-1,a.expandedCrumb=b.find('.crumb[data-collapsed="true"]:first').index()),(a.collapsedCrumb>=a.maxCollapsedCrumbs||a.expandedCrumb>=0)&&(k=-a.minWidth*(a.collapsedCrumb-a.maxCollapsedCrumbs),k>0&&(k=0),b.css("left",k))),p=-a.shaderWidth-a.shaderAntumbra+h-j,p>-a.shaderWidth&&(p=-a.shaderWidth),o.css("right",p),m&&n>m.outerWidth())return g.outerWidth(a.minWidth)}},init:function(a){return d.build(this,a),d.windowResize(),$(window).resize(function(){return d.windowResize()})},refresh:function(a){return d.build(this,a),d.windowResize()}},$.fn.infowrapBreadcrumbs=function(a){return d[a]?d[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?$.error("Method "+a+" does not exist"):d.init.apply(this,arguments)}}.call(this);