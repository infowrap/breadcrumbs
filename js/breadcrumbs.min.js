!function(){!function(a,b){var c,d,e,f;return e=d=void 0,c={maxCollapsedCrumbs:3,minWidth:44,shaderWidth:44,shaderAntumbra:25,allowVariableWidths:!1,tabWidth:150,collapsedCrumb:0,expandedCrumb:0,totalCrumbs:0,crumbWidths:[],crumbObjs:[],shaderObjs:[]},f={build:function(b,f){return e=b,d=e.find(".crumbs"),c.totalCrumbs=0,"object"==typeof f&&a.extend(c,f),d.find(".crumb").each(function(b){var d;return d=a(this),c.crumbObjs[b+1]=d,d.removeAttr("data-collapsed"),d.removeAttr("style"),d.find(".shader").length||d.append('<div class="shader"></div>'),c.shaderObjs[b+1]=d.find(".shader"),c.crumbWidths[b+1]=c.allowVariableWidths?d.outerWidth():c.tabWidth,c.totalCrumbs++})},windowResize:function(){var a,b,d,g;for(g=[],a=b=1,d=c.totalCrumbs-1;d>=b;a=b+=1)g.push(f.updateCrumb(a,e.width()));return g},updateCrumb:function(a,b){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;for(h=c.crumbWidths[a],n=c.crumbWidths[a+1],f=0,f=c.minWidth*(a-1),e=0,l=q=r=a+1,s=c.totalCrumbs;s>=q;l=q+=1)e+=c.crumbWidths[l];if(j=b-f-e,g=c.crumbObjs[a]){if(i=g.outerWidth(),m=a>c.totalCrumbs?c.crumbObjs[a+1]:null,o=c.shaderObjs[a],h>i?g.attr("data-expanded",!1):g.attr("data-expanded",!0),!(f+h+e>b))return g.outerWidth(h),o.css("right",-c.shaderWidth-c.shaderAntumbra);if(c.allowVariableWidths?g.outerWidth(j):g.outerWidth(c.minWidth),c.maxCollapsedCrumbs&&(j<c.minWidth?g.attr("data-collapsed",!0):g.attr("data-collapsed",!1),c.collapsedCrumb=d.find('.crumb[data-collapsed="false"]:first').index(),c.collapsedCrumb<0&&(c.collapsedCrumb=c.totalCrumbs-1,c.expandedCrumb=d.find('.crumb[data-collapsed="true"]:first').index()),(c.collapsedCrumb>=c.maxCollapsedCrumbs||c.expandedCrumb>=0)&&(k=-c.minWidth*(c.collapsedCrumb-c.maxCollapsedCrumbs),k>0&&(k=0),d.css("left",k))),p=-c.shaderWidth-c.shaderAntumbra+h-j,p>-c.shaderWidth&&(p=-c.shaderWidth),o.css("right",p),m&&n>m.outerWidth())return g.outerWidth(c.minWidth)}},init:function(c){return f.build(this,c),f.windowResize(),a(b).resize(function(){return f.windowResize()})},refresh:function(a){return f.build(this,a),f.windowResize()}},a.fn.infowrapBreadcrumbs=function(b){return f[b]?f[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?a.error("Method "+b+" does not exist"):f.init.apply(this,arguments)}}(jQuery,window)}.call(this);